name: check_issue_approval
on:
  issue_comment:
    types: [opened, edited]
    
jobs:
 check-issue:
  runs-on: ubuntu-latest
  if: contains(github.event.comment.body, 'approved')
  steps:
#  - name: print package name and version
#    #run: echo "$BODY" 
#    run: grep -m 2 -o '.*' "$BODY"
#  env:
#    BODY: ${{ github.event.issue.body }}
    
      - name: Checkout
        uses: actions/checkout@v2

      - name: Get Issues
        uses: zlus/action-extract-issues@1.0.0
        id: set_issues
        env:
          GITHUB_TOKEN: ${{ secrets.GH_TOKEN }}
        with:
          #match-reg: 'test +#(\d+)' # optional
          match-reg: 'Package Name' # optional

      - name: Log
        run: echo ${{ steps.set_issues.outputs.issues }}    
